---
/**
 * Homepage - Multilingual homepage showing main navigation sections
 * @props lang: SupportedLanguage - Current language from route params
 * @behavior Shows welcome message and main navigation cards to Books, Projects, Lab, Life sections
 * @dependencies SUPPORTED_LANGUAGES, getTranslations, Layout
 * @usedBy Direct navigation to /[lang] (root homepage)
 */
import Layout from '../../layouts/PageLayout.astro';
import { SUPPORTED_LANGUAGES, getTranslations } from '../../utils/i18n';
import type { SupportedLanguage } from '../../utils/i18n';

export const getStaticPaths = () => {
  return SUPPORTED_LANGUAGES.map((lang) => ({
    params: { lang },
  }));
};

const { lang } = Astro.params as { lang: SupportedLanguage };
const t = await getTranslations(lang);

const metadata = {
  title: lang === 'de' ? 'Willkommen bei seez.eu' : 'Welcome to seez.eu',
  description:
    lang === 'de'
      ? 'Entdecke B√ºcher, Projekte, Experimente und pers√∂nliche Gedanken.'
      : 'Discover books, projects, experiments, and personal thoughts.',
  ignoreTitleTemplate: true,
};

// Navigation sections with translations
const sections = [
  {
    href: `/${lang}/books`,
    icon: 'üìö',
    title: t.navigation?.Books || 'Books',
    description: lang === 'de' ? 'Lekt√ºre, Notizen und Buchrezensionen' : 'Reading, notes, and book reviews',
  },
  {
    href: `/${lang}/projects`,
    icon: 'üõ†Ô∏è',
    title: t.navigation?.Projects || 'Projects',
    description: lang === 'de' ? 'Pers√∂nliche und Open-Source-Projekte' : 'Personal and open source projects',
  },
  {
    href: `/${lang}/lab`,
    icon: 'üß™',
    title: t.navigation?.Lab || 'Lab',
    description: lang === 'de' ? 'Experimente, Code und Ideen' : 'Experiments, code, and ideas',
  },
  {
    href: `/${lang}/life`,
    icon: 'üå±',
    title: t.navigation?.Life || 'Life',
    description: lang === 'de' ? 'Pers√∂nliche Notizen, Reflexionen und mehr' : 'Personal notes, reflections, and more',
  },
];
---

<Layout metadata={metadata}>
  <main class="min-h-screen flex flex-col items-center justify-center py-16">
    <h1 class="text-4xl font-bold mb-10 text-center dark:text-white">
      {lang === 'de' ? 'Willkommen bei seez.eu' : 'Welcome to seez.eu'}
    </h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 w-full max-w-5xl">
      {
        sections.map((section) => (
          <a
            href={section.href}
            class="flex flex-col items-center p-8 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-gray-700 transition shadow group"
          >
            <span class="text-5xl mb-4">{section.icon}</span>
            <span class="text-xl font-semibold mb-2 group-hover:text-blue-700 dark:group-hover:text-blue-400">
              {section.title}
            </span>
            <span class="text-gray-500 dark:text-gray-400 text-center">{section.description}</span>
          </a>
        ))
      }
    </div>
  </main>
</Layout>
