---
/**
 * Footer - Main site footer, includes legal links, navigation, and language switcher
 * @props {currentLanguage: SupportedLanguage, availableLanguages?: SupportedLanguage[], currentPath?: string} - Language props for i18n switcher
 * @behavior Renders legal links, navigation, and language switcher; responsive and accessible
 * @dependencies LanguageSwitcher.astro, navigation.ts, i18n utilities
 * @usedBy Layout.astro, PageLayout.astro, MarkdownLayout.astro
 */
import LanguageSwitcher from './LanguageSwitcher.astro';
import { getTranslations } from '~/utils/i18n';
import { getFooterData } from '~/navigation';
import type { SupportedLanguage } from '~/utils/i18n';

export interface Props {
  currentLanguage: SupportedLanguage;
  availableLanguages?: SupportedLanguage[];
  currentPath?: string;
}

const { currentLanguage, availableLanguages, currentPath } = Astro.props;
const translations = await getTranslations(currentLanguage);
const footerData = getFooterData(currentLanguage);
---

<footer>
  <div class="footer-content">
    <nav>
      <ul>
        {footerData.links.map((section: { title: string; links: { text: string; href: string }[] }) => (
          <li>
            <span>{translations.footer[section.title] || section.title}</span>
            <ul>
              {section.links.map((item: { text: string; href: string }) => (
                <li><a href={item.href}>{translations.navigation[item.text] || item.text}</a></li>
              ))}
            </ul>
          </li>
        ))}
      </ul>
    </nav>
    <div class="legal-links">
      <!-- Legal links here -->
    </div>
    <LanguageSwitcher currentLanguage={currentLanguage} availableLanguages={availableLanguages} currentPath={currentPath} />
  </div>
</footer>

<style>
  /* Add your styles here */
</style>